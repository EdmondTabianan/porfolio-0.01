<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Player</title>
    <link rel="stylesheet" href="style/header.css">
    <link rel="stylesheet" href="style/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        *{
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 100px 0; 
        }
        #controls{
            display: flex;
            flex-direction: row;
            align-items: center;
        }
        #controls button {
            padding: 10px;
            width: 100px;
        }
        #currentSong {
            margin-bottom: 10px;
            font-size: 1.2rem;
            text-align: center;
        }
        #playlist {
            display: none;
            margin-top: 20px;
            text-align: center;
            height: 200px;
            overflow: scroll;
            scrollbar-width: none;
        }
        #playlist ul {
            list-style-type: none;
            padding: 0;
        }
        #playlist li {
            cursor: pointer;
            margin: 5px 0;
        }
        #progressBar{
            width: 90%;
            max-width: 500px;
            background-color: #87D68D;
            margin: 10px 0;
        }
        .active-song {
        color: white;
        background-color: #007bff;
        padding: 5px;
        border-radius: 5px;
        }
    </style>
</head>
<body>
    <nav class="header">
        <div class="myDIV">
            <button class="btn"><a href="index.html"></a></button>
            <button class="btn"><a href="about.html"></a></button>
            <button class="btn"><a href="Project.html"></a></button>
            <button class="btn"><a href="service.html"></a></button>
        </div>
    </nav>
    <audio id="audioPlayer"></audio>
    <div class="container">
        <div id="currentSong">Now Playing: OO - Up Dharma Down (Official Lyric Video)</div>
        <progress id="progressBar" value="0" max="100"></progress>
        <div id="controls">
            <button id="previousButton">Previous</button>
            <button id="playPauseButton">Play</button>
            <button id="nextButton">Next</button>
        </div>
        <br>
        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="1">
        <span id="volumeDisplay">Volume: 100%</span>
        <button id="togglePlaylistButton">Show Playlist</button>
            <div id="playlist">
                <ul id="songList"></ul>
            </div>
    </div>
    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const playPauseButton = document.getElementById('playPauseButton');
        const nextButton = document.getElementById('nextButton');
        const previousButton = document.getElementById('previousButton');
        const volumeSlider = document.getElementById('volumeSlider');
        const currentSongDisplay = document.getElementById('currentSong');
        const togglePlaylistButton = document.getElementById('togglePlaylistButton');
        const playlist = document.getElementById('playlist');
        const songList = document.getElementById('songList');

        const songs = [
            'sound/Ako Naman Muna - Angela Ken (Lyric Video Visualizer).mp3',
            'sound/Calein - Umaasa (Official Lyric Video).mp3',
            'sound/Cup of Joe - Patutunguhan (Lyrics).mp3',
            'sound/Cup of Joe, Janine Teñoso  - Tingin (Official Lyric Video).mp3',
            'sound/Eliza Maturan - Museo (Lyrics).mp3',
            'sound/Estranghero.mp3',
            'sound/Higa.mp3',
            'sound/Hulaan by Janine (Lyrics).mp3',
            'sound/I Belong to the Zoo - Balang Araw (Official Lyric Video).mp3',
            'sound/Janice - Dilaw (Lyrics).mp3',
            'sound/Magnus Haven - Imahe (Official Music Video).mp3',
            'sound/Maki - Bakit_ (Official Lyric Video).mp3',
            'sound/Maki - Dilaw (Lyrics).mp3',
            'sound/Misteryoso - Cup of Joe (Official Lyric Video).mp3',
            'sound/Munimuni - Bawat Piyesa (Official Lyric Video).mp3',
            'sound/Nag-iisang Muli - Cup of Joe [Official Lyric Video].mp3',
            'sound/NOBITA - IKAW LANG  Official Lyric Video.mp3',
            'sound/OO - Up Dharma Down (Official Lyric Video).mp3',
            'sound/Over October - Ikot (Official Lyric Video).mp3',
            'sound/Sam Smith - Im Not The Only One (Official Music Video).mp3',
            'sound/Sam Smith - Lay Me Down (Official Music Video).mp3',
            'sound/Sam Smith - Stay With Me (Lyrics).mp3',
            'sound/Sam Smith - Too Good At Goodbyes.mp3',
            'sound/Sugarfree - Burnout - (Official Lyric Video).mp3',
            'sound/Tadhana - Up Dharma Down [Lyrics] [1080p].mp3',
            'sound/TONEEJAY - Aurora (Official Music Video).mp3',
            'sound/Unti unti - Up Dharma Down (Lyrics).mp3'
        ];

        const songTitles = [
            'Ako Naman Muna - Angela Ken (Lyric Video Visualizer)',
            'Calein - Umaasa (Official Lyric Video)',
            'Cup of Joe - Patutunguhan (Lyrics)',
            'Cup of Joe, Janine Teñoso - Tingin (Official Lyric Video)',
            'Eliza Maturan - Museo (Lyrics)',
            'Estranghero',
            'Higa',
            'Hulaan by Janine (Lyrics)',
            'I Belong to the Zoo - Balang Araw (Official Lyric Video)',
            'Janice - Dilaw (Lyrics)',
            'Magnus Haven - Imahe (Official Music Video)',
            'Maki - Bakit (Official Lyric Video)',
            'Maki - Dilaw (Lyrics)',
            'Misteryoso - Cup of Joe (Official Lyric Video)',
            'Munimuni - Bawat Piyesa (Official Lyric Video)',
            'Nag-iisang Muli - Cup of Joe (Official Lyric Video)',
            'NOBITA - IKAW LANG (Official Lyric Video)',
            'OO - Up Dharma Down (Official Lyric Video)',
            'Over October - Ikot (Official Lyric Video)',
            'Sam Smith - I’m Not The Only One (Official Music Video)',
            'Sam Smith - Lay Me Down (Official Music Video)',
            'Sam Smith - Stay With Me (Lyrics)',
            'Sam Smith - Too Good At Goodbyes',
            'Sugafree - Burnout (Official Lyric Video)',
            'Tadhana - Up Dharma Down [Lyrics] (1080p)',
            'TONEEJAY - Aurora (Official Music Video)',
            'Unti unti - Up Dharma Down (Lyrics)'
        ];

        let currentSongIndex = localStorage.getItem('currentSongIndex') ? parseInt(localStorage.getItem('currentSongIndex')) : 0;
        let currentTime = localStorage.getItem('currentTime') ? parseFloat(localStorage.getItem('currentTime')) : 0;

        audioPlayer.src = songs[currentSongIndex];
        audioPlayer.currentTime = currentTime;
        currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;

        playPauseButton.addEventListener('click', () => {
            if (audioPlayer.paused) {
                audioPlayer.play();
                playPauseButton.textContent = "Pause";
            } else {
                audioPlayer.pause();
                playPauseButton.textContent = "Play";
            }
        });

        volumeSlider.addEventListener('input', () => audioPlayer.volume = volumeSlider.value);

        audioPlayer.addEventListener('ended', () => {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            audioPlayer.src = songs[currentSongIndex];
            audioPlayer.currentTime = 0;
            currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;
            audioPlayer.play();
            playPauseButton.textContent = "Pause";
            saveState();
        });

        audioPlayer.addEventListener('timeupdate', saveState);

        togglePlaylistButton.addEventListener('click', () => {
            if (playlist.style.display === 'none') {
                playlist.style.display = 'block';
                togglePlaylistButton.textContent = 'Hide Playlist';
            } else {
                playlist.style.display = 'none';
                togglePlaylistButton.textContent = 'Show Playlist';
            }
        });

        songTitles.forEach((title, index) => {
            const listItem = document.createElement('li');
            listItem.textContent = title;
            listItem.addEventListener('click', () => {
                currentSongIndex = index;
                audioPlayer.src = songs[currentSongIndex];
                audioPlayer.currentTime = 0;
                currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;
                audioPlayer.play();
                playPauseButton.textContent = "Pause";
                saveState();
            });
            songList.appendChild(listItem);
        });

        function saveState() {
            localStorage.setItem('currentSongIndex', currentSongIndex);
            localStorage.setItem('currentTime', audioPlayer.currentTime);
        }
        volumeSlider.addEventListener('input', () => {
    audioPlayer.volume = volumeSlider.value;
    document.getElementById('volumeDisplay').textContent = `Volume: ${Math.round(volumeSlider.value * 100)}%`;
});
audioPlayer.addEventListener('timeupdate', () => {
    const progressBar = document.getElementById('progressBar');
    progressBar.value = (audioPlayer.currentTime / audioPlayer.duration) * 100;
});

function highlightCurrentSong() {
    // Remove highlight from all songs
    const allSongs = document.querySelectorAll('#songList li');
    allSongs.forEach(song => song.classList.remove('active-song'));

    // Highlight the current song
    allSongs[currentSongIndex].classList.add('active-song');
}

nextButton.addEventListener('click', () => {
    currentSongIndex = (currentSongIndex + 1) % songs.length;
    audioPlayer.src = songs[currentSongIndex];
    currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;
    audioPlayer.play();
    playPauseButton.textContent = "Pause";
    highlightCurrentSong(); // Highlight the new song
});

previousButton.addEventListener('click', () => {
    currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
    audioPlayer.src = songs[currentSongIndex];
    currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;
    audioPlayer.play();
    playPauseButton.textContent = "Pause";
    highlightCurrentSong(); // Highlight the previous song
});

songTitles.forEach((title, index) => {
    const listItem = document.createElement('li');
    listItem.textContent = title;

    listItem.addEventListener('click', () => {
        currentSongIndex = index;
        audioPlayer.src = songs[currentSongIndex];
        currentSongDisplay.textContent = `Now Playing: ${songTitles[currentSongIndex]}`;
        audioPlayer.play();
        playPauseButton.textContent = "Pause";
        highlightCurrentSong(); // Highlight the clicked song
    });

    // songList.appendChild(listItem); doubling the list of playlist
});

// Highlight the song on page load
highlightCurrentSong();
    </script>
</body>
<footer class="footer">
<div class="footer-content">
    <h2>Contact</h2>
    <ul>
        <li><a href="https://www.facebook.com/edmond.tabianan.22" class="fa fa-facebook"></a></li>
        <li><a href="https://www.instagram.com/latorre_edmond/" class="fa fa-instagram"></a></li>
        <li><a href="https://github.com/EdmondTabianan" class="fa fa-github"></a></li>
    </ul>
    <ul>
        <li><h4>facebook</h4></li>
        <li><h4>instagram</h4></li>
        <li><h4>Github</h4></li>
    </ul>

    <ul>
        <li><p>
            &copy; 2025 All rights reserved by Edmond
        </p></li>
    </ul>
</div>
</footer>

</html>
